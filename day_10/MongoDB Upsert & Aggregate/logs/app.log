[2021-09-26T18:14:01.791] [INFO] app - host : mongodb://localhost
[2021-09-26T18:14:01.793] [INFO] app - port : 27017
[2021-09-26T18:14:01.793] [INFO] app - database name: crud
[2021-09-26T18:14:01.816] [INFO] app - running on port 3000
[2021-09-26T18:14:01.841] [INFO] app - database connected
[2021-09-26T18:14:01.841] [INFO] app - connection intialized 
[2021-09-26T18:14:11.127] [INFO] app - host : mongodb://localhost
[2021-09-26T18:14:11.130] [INFO] app - port : 27017
[2021-09-26T18:14:11.130] [INFO] app - database name: crud
[2021-09-26T18:14:11.140] [INFO] app - running on port 3000
[2021-09-26T18:14:11.163] [INFO] app - database connected
[2021-09-26T18:14:11.163] [INFO] app - connection intialized 
[2021-09-26T18:14:13.316] [ERROR] app - update user API failed: ReferenceError: mongodb is not defined
    at F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\app.js:45:73
    at Layer.handle [as handle_request] (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\layer.js:95:5)
    at next (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\route.js:137:13)
    at Route.dispatch (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\route.js:112:3)
    at Layer.handle [as handle_request] (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\layer.js:95:5)
    at F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:281:22
    at param (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:354:14)
    at param (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:365:14)
    at Function.process_params (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:410:3)
    at next (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:275:10)
[2021-09-26T18:14:50.905] [INFO] app - host : mongodb://localhost
[2021-09-26T18:14:50.907] [INFO] app - port : 27017
[2021-09-26T18:14:50.907] [INFO] app - database name: crud
[2021-09-26T18:14:50.917] [INFO] app - running on port 3000
[2021-09-26T18:14:50.940] [INFO] app - database connected
[2021-09-26T18:14:50.940] [INFO] app - connection intialized 
[2021-09-26T18:14:52.538] [INFO] app - update user API success
[2021-09-26T18:14:57.462] [INFO] app - Get all API success
[2021-09-26T18:14:57.462] [INFO] app - database status in get api:
[2021-09-26T18:15:25.518] [INFO] app - update user API success
[2021-09-26T18:15:31.962] [INFO] app - Get all API success
[2021-09-26T18:15:31.962] [INFO] app - database status in get api:
[2021-09-26T18:22:25.160] [INFO] app - host : mongodb://localhost
[2021-09-26T18:22:25.162] [INFO] app - port : 27017
[2021-09-26T18:22:25.162] [INFO] app - database name: crud
[2021-09-26T18:22:25.170] [INFO] app - running on port 3000
[2021-09-26T18:22:25.193] [INFO] app - database connected
[2021-09-26T18:22:25.193] [INFO] app - connection intialized 
[2021-09-26T18:22:34.889] [INFO] app - host : mongodb://localhost
[2021-09-26T18:22:34.891] [INFO] app - port : 27017
[2021-09-26T18:22:34.892] [INFO] app - database name: crud
[2021-09-26T18:22:34.902] [INFO] app - running on port 3000
[2021-09-26T18:22:34.923] [INFO] app - database connected
[2021-09-26T18:22:34.924] [INFO] app - connection intialized 
[2021-09-26T18:22:42.036] [INFO] app - Get all API success
[2021-09-26T18:22:42.036] [INFO] app - database status in get api:
[2021-09-26T18:23:22.884] [INFO] app - host : mongodb://localhost
[2021-09-26T18:23:22.885] [INFO] app - port : 27017
[2021-09-26T18:23:22.886] [INFO] app - database name: crud
[2021-09-26T18:23:22.894] [INFO] app - running on port 3000
[2021-09-26T18:23:22.919] [INFO] app - database connected
[2021-09-26T18:23:22.919] [INFO] app - connection intialized 
[2021-09-26T18:23:25.279] [ERROR] app - database status in get api:
[2021-09-26T18:23:25.279] [ERROR] app - Get all API failed: MongoServerError: $count takes no arguments, i.e. $count:{}
    at MessageStream.messageHandler (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\connection.js:467:30)
    at MessageStream.emit (events.js:315:20)
    at processIncomingData (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\message_stream.js:108:16)
    at MessageStream._write (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\message_stream.js:28:9)
    at doWrite (_stream_writable.js:403:12)
    at writeOrBuffer (_stream_writable.js:387:5)
    at MessageStream.Writable.write (_stream_writable.js:318:11)
    at Socket.ondata (_stream_readable.js:717:22)
    at Socket.emit (events.js:315:20)
    at addChunk (_stream_readable.js:295:12) {
  ok: 0,
  code: 14,
  codeName: 'TypeMismatch'
}
[2021-09-26T18:24:04.200] [INFO] app - host : mongodb://localhost
[2021-09-26T18:24:04.202] [INFO] app - port : 27017
[2021-09-26T18:24:04.202] [INFO] app - database name: crud
[2021-09-26T18:24:04.214] [INFO] app - running on port 3000
[2021-09-26T18:24:04.235] [INFO] app - database connected
[2021-09-26T18:24:04.235] [INFO] app - connection intialized 
[2021-09-26T18:24:05.949] [ERROR] app - database status in get api:
[2021-09-26T18:24:05.949] [ERROR] app - Get all API failed: ReferenceError: $count is not defined
    at F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\app.js:64:51
    at Layer.handle [as handle_request] (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\layer.js:95:5)
    at next (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\route.js:137:13)
    at Route.dispatch (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\route.js:112:3)
    at Layer.handle [as handle_request] (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\layer.js:95:5)
    at F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:281:22
    at Function.process_params (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:335:12)
    at next (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\index.js:275:10)
    at urlencodedParser (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\node_modules\body-parser\lib\types\urlencoded.js:91:7)
    at Layer.handle [as handle_request] (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\express\lib\router\layer.js:95:5)
[2021-09-26T18:24:37.077] [INFO] app - host : mongodb://localhost
[2021-09-26T18:24:37.079] [INFO] app - port : 27017
[2021-09-26T18:24:37.080] [INFO] app - database name: crud
[2021-09-26T18:24:37.090] [INFO] app - running on port 3000
[2021-09-26T18:24:37.111] [INFO] app - database connected
[2021-09-26T18:24:37.112] [INFO] app - connection intialized 
[2021-09-26T18:24:38.659] [ERROR] app - database status in get api:
[2021-09-26T18:24:38.659] [ERROR] app - Get all API failed: MongoServerError: The field 'total' must be an accumulator object
    at MessageStream.messageHandler (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\connection.js:467:30)
    at MessageStream.emit (events.js:315:20)
    at processIncomingData (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\message_stream.js:108:16)
    at MessageStream._write (F:\Company\Albanero\NodeJs\Learning\day10\MongoDB Upsert & Aggregate\node_modules\mongodb\lib\cmap\message_stream.js:28:9)
    at doWrite (_stream_writable.js:403:12)
    at writeOrBuffer (_stream_writable.js:387:5)
    at MessageStream.Writable.write (_stream_writable.js:318:11)
    at Socket.ondata (_stream_readable.js:717:22)
    at Socket.emit (events.js:315:20)
    at addChunk (_stream_readable.js:295:12) {
  ok: 0,
  code: 40234,
  codeName: 'Location40234'
}
[2021-09-26T18:29:47.000] [INFO] app - host : mongodb://localhost
[2021-09-26T18:29:47.003] [INFO] app - port : 27017
[2021-09-26T18:29:47.003] [INFO] app - database name: crud
[2021-09-26T18:29:47.011] [INFO] app - running on port 3000
[2021-09-26T18:29:47.032] [INFO] app - database connected
[2021-09-26T18:29:47.032] [INFO] app - connection intialized 
